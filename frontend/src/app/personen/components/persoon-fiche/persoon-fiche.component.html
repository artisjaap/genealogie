<div class="infocard">
  <div class="infocard-titel">
    Fiche
  </div>
  <div class="infocard-body" *ngIf="persoonFiche$ | async as persoonFiche">
    <div class="infocard-sectie">
      <div class="infocard-row">
        <div class="portret">
          <div class="foto">
            <img  src="/assets/person.png">
          </div>
          <div class="infocard-sectie-acties">
            <span class="actie" (click)="documentToevoegen(persoonFiche.natuurlijkPersoon, null)"><fa-icon
              [icon]="faFileText"></fa-icon></span>
            <span class="actie" (click)="oudersToevoegen(persoonFiche.natuurlijkPersoon, null)"><fa-icon
              [icon]="faDiagramPredecessor"></fa-icon></span>
          </div>
        </div>
        <div class="eigenschappen">
          <div class="eigenschap">
              <span class="label">Naam </span>
              <span class="value">{{ persoonFiche.natuurlijkPersoon.naam }}</span>
          </div>

          <div class="eigenschap">
            <span class="label">Voornaam </span>
            <span class="value">{{ persoonFiche.natuurlijkPersoon.voornaam }}</span>
          </div>

          <div class="eigenschap">
            <span class="label">Geboren </span>
            <span class="value">{{ persoonFiche.natuurlijkPersoon.geborenOp }}</span>
          </div>

          <div class="eigenschap">
            <span class="label">Overleden </span>
            <span class="value">{{ persoonFiche.natuurlijkPersoon.overledenOp }}</span>
          </div>

          <div class="eigenschap">
            <span class="label">Moeder </span>
            <span class="value link-action" [routerLink]="['/personen/detail', persoonFiche.moeder?.id]">{{ persoonFiche.moeder?.naam }} {{ persoonFiche.moeder?.voornaam }}</span>
          </div>

          <div class="eigenschap">
            <span class="label">Vader </span>
            <span class="value link-action" [routerLink]="['/personen/detail', persoonFiche.vader?.id]">{{ persoonFiche.vader?.naam }} {{ persoonFiche.vader?.voornaam }}</span>
          </div>


        </div>
      </div>

    </div>
    <div class="infocard-sectie">
      <span class="infocard-sectie-titel">kinderen</span>

      <div *ngFor="let kind of persoonFiche.kinderen" [routerLink]="['/personen/detail', kind.id]">
        {{ kind.naam }} {{ kind.voornaam }}
      </div>
    </div>
    <div class="infocard-sectie">
      <span class="infocard-sectie-titel">relatie </span>

      <span class="actie" (click)="voegRelatieToeMet(persoonFiche.natuurlijkPersoon)"><fa-icon
        [icon]="faDiagramPredecessor"></fa-icon></span>

      <div class="infocard-row-flow">

        <div class="relatie-box" *ngFor="let relatie of persoonFiche.relaties">
          <div class="relatie-titel">
            <div class="relatie">
               <span class="link-action" [routerLink]="['/personen/detail', relatie.persoon1.id]">{{ relatie.persoon1.naam }} {{ relatie.persoon1.voornaam }}</span> X
               <span class="link-action"  [routerLink]="['/personen/detail', relatie.persoon2.id]">{{ relatie.persoon2.naam }} {{ relatie.persoon2.voornaam }}</span>
            </div>
            <div class="spacer"></div>
            <div class="acties">
              <span class="actie" (click)="documentToevoegen(null, relatie)"><fa-icon
                [icon]="faFileText"></fa-icon></span>
              <span class="actie" (click)="persoonAanRelatieToevoegen(null, relatie)"><fa-icon
                [icon]="faDiagramSuccessor"></fa-icon></span>
            </div>
          </div>
          <div class="relatie-subtitel">

          </div>
          <div class="relatie-kinderen">
            <div class="relatie-kind" *ngFor="let kind of relatie.kinderen">
               <span class="link-action"
                     [routerLink]="['/personen/detail', kind.id]">{{ kind.naam }} {{ kind.voornaam }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>







    <div class="infocard-sectie">
      <span class="infocard-sectie-titel">Documenten </span>
      <div class="document-previews">
        <div class="document-preview" *ngFor="let document of persoonFiche.documenten">
          <div class="document-preview-titel">{{ document.type }}</div>
          <div class="document-preview-image" (click)="toonImage(img)">
            <img #img [src]="'/api/document/'+document.id">

          </div>

          <div class="document-preview-caps">
            {{ document.fileName }}
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
